(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"1a15":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("video",{staticClass:"bg-video",attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0}},[i("source",{attrs:{src:s("1fa6"),type:"video/mp4"}}),t._v("\n      Your browser does not support the video tag.\n    ")]),i("div",{staticClass:"glass row",class:{"glass row":t.islogin,"glass-register row":!t.islogin},attrs:{id:"content-pad"}},[i("transition",{attrs:{name:"fade",mode:"in-out"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.islogin,expression:"!islogin"}],staticClass:"col-8 pad-item bg-secondary",staticStyle:{"border-radius":"9px 0 0 9px"},attrs:{id:"register-pad"}},[i("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"500px","margin-top":"20px","margin-left":"auto","margin-right":"auto"}},[i("q-form",{staticClass:"q-gutter-md",staticStyle:{margin:"0 auto"},on:{submit:t.onSubmit,reset:t.onReset}},[i("q-input",{attrs:{dense:"",filled:"",label:"邮箱",hint:"输入邮箱地址",type:"email","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入邮箱地址"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"email"}})]},proxy:!0},{key:"after",fn:function(){return[i("q-select",{staticStyle:{"min-width":"100px"},attrs:{dense:"",standout:"",options:t.options,label:"作为？"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})]},proxy:!0}]),model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),i("q-input",{attrs:{dense:"",filled:"",label:"验证码",hint:"输入验证码","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入收到的验证码"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"verified_user"}})]},proxy:!0},{key:"after",fn:function(){return[i("q-btn",{attrs:{push:"",color:"primary",label:"发送"},on:{click:t.sendValidateNum}})]},proxy:!0}]),model:{value:t.validate_num,callback:function(e){t.validate_num=e},expression:"validate_num"}}),"个人"===t.type?i("q-input",{attrs:{dense:"",filled:"",label:"昵称",hint:"输入预设昵称","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入预设昵称"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"badge"}})]},proxy:!0}],null,!1,3311953321),model:{value:t.nick_name,callback:function(e){t.nick_name=e},expression:"nick_name"}}):t._e(),"官方"===t.type?i("q-input",{attrs:{dense:"",filled:"",label:"机构名称",hint:"输入机构名称","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入机构名称"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"home_work"}})]},proxy:!0}],null,!1,100914429),model:{value:t.ofc_name,callback:function(e){t.ofc_name=e},expression:"ofc_name"}}):t._e(),i("q-input",{attrs:{dense:"",filled:"",type:t.isPwd?"password":"text",label:"密码",hint:"输入密码","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入密码"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.register_password,callback:function(e){t.register_password=e},expression:"register_password"}}),i("q-input",{attrs:{dense:"",filled:"",type:t.isPwd?"password":"text",label:"确认密码",hint:"再次输入密码","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请再次输入密码"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.register_password_again,callback:function(e){t.register_password_again=e},expression:"register_password_again"}}),i("div",{staticClass:"q-gutter-sm"},[i("q-checkbox",{staticStyle:{color:"#01a5a2"},attrs:{dense:"",label:"点击同意我们的协议"},model:{value:t.register_accept,callback:function(e){t.register_accept=e},expression:"register_accept"}})],1),i("div",[i("q-btn",{attrs:{color:"primary","icon-right":"send",label:"注册"},on:{click:t.register}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{label:"已有账号？去登录",color:"primary",flat:""},on:{click:t.switchLogin}})],1)],1)],1)])]),i("div",{staticClass:"col-4 column",staticStyle:{padding:"10px"},attrs:{id:"glass-pad"}},[i("div",{staticClass:"col-1",staticStyle:{"padding-top":"20px","text-shadow":"-1px 3px 3px #656B79","font-size":"28px",color:"#034e47","font-family":"'Bookman Old Style',serif","font-style":"italic",margin:"0 auto"}},[t._v("\n              "+t._s(t.title)+"\n            ")]),t._m(0),i("q-space"),i("div",{staticClass:"col-1",staticStyle:{"font-size":"5px",color:"#d7fffb",margin:"0 auto"}},[t._v("\n              Design By @Akira\n            ")])],1),i("transition",{attrs:{name:"fade",mode:"in-out"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.islogin,expression:"islogin"}],staticClass:"col-8 pad-item bg-secondary",staticStyle:{"border-radius":"0 9px 9px 0"},attrs:{id:"login-pad"}},[i("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"382px","margin-top":"20px","margin-left":"auto","margin-right":"auto"}},[i("q-form",{staticClass:"q-gutter-md",staticStyle:{margin:"0 auto"},on:{submit:t.onSubmit,reset:t.onReset}},[i("q-input",{attrs:{filled:"",outlined:"",size:"xs",label:"用户名",hint:"输入用户名（邮箱）",type:"email","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入用户名"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"account_circle"}})]},proxy:!0},{key:"after",fn:function(){return[i("q-select",{staticStyle:{"min-width":"100px"},attrs:{standout:"",options:t.options,label:"作为？"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})]},proxy:!0}]),model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),i("q-input",{attrs:{filled:"",outlined:"",type:t.isPwd?"password":"text",label:"密码",hint:"输入密码","lazy-rules":"",rules:[function(t){return t&&t.length>0||"请输入密码"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("q-toggle",{attrs:{label:"记住我"},model:{value:t.login_remember_me,callback:function(e){t.login_remember_me=e},expression:"login_remember_me"}}),i("div",[i("q-btn",{attrs:{color:"primary",icon:"login",label:"登录",type:"submit"}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{label:"没有账号？去注册",color:"primary",flat:""},on:{click:t.switchLogin}})],1)],1)],1)])])],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo col-10 column"},[s("div",{staticClass:"logo-text",staticStyle:{"line-height":"150px"}},[t._v("\n                LIME\n              ")])])}],a={name:"Login",data(){return{account:"",password:"",register_password:"",register_password_again:"",validate_num:"",nick_name:"",ofc_name:"",isPwd:!0,register_accept:!1,login_remember_me:!1,islogin:!0,type:"个人",options:["官方","个人"],title:"~Login~"}},methods:{onSubmit(){this.$axios.post("/login",{username:this.account,type:this.type,password:this.password}).then((t=>{0!=Object.keys(t.data).length?(this.openMessage("登录成功！","success"),this.$store.commit("userstate/updateUserID",this.account),"个人"===this.type?(this.$store.commit("userstate/updateNickname",t.data.nickname),this.$router.push({path:"/index"})):(this.$store.commit("userstate/updateOfcName",t.data.ofc_name),alert(t.data.ofc_name),this.$router.push({path:"/ofc_index"}))):this.openMessage("密码错误或账号不存在！","error")})).catch((t=>{this.openMessage(t,"error")}))},register(){this.$axios.post("/register",{username:this.account,type:this.type,nick_name:this.nick_name,ofc_name:this.ofc_name,password:this.register_password}).then((t=>{this.openMessage("注册成功！","success")})).catch((t=>{this.openMessage(t,"error")}))},sendValidateNum(){this.$axios.post("/sendValidateNum",{mail:this.account}).then((t=>{alert(t.data.code)})).catch((t=>{alert(t)}))},onReset(){this.name=null,this.age=null,this.accept=!1},switchLogin(){this.islogin=!this.islogin,!0===this.islogin?this.title="~Login~":this.title="~Register~"},openMessage(t,e){this.$message({message:t,type:e})}},computed:{nickname:{get(){return this.$store.state.userstate.nickname},set(t){this.$store.commit("userstate/updateNickname",t)}}},created(){}},o=a,r=(s("4ec9"),s("2877")),l=s("0378"),c=s("27f9"),u=s("0016"),p=s("ddd8"),d=s("9c40"),m=s("8f8e"),f=s("2c91"),g=s("9564"),y=s("eebe"),h=s.n(y),_=Object(r["a"])(o,i,n,!1,null,"c15f1d46",null);e["default"]=_.exports;h()(_,"components",{QForm:l["a"],QInput:c["a"],QIcon:u["a"],QSelect:p["a"],QBtn:d["a"],QCheckbox:m["a"],QSpace:f["a"],QToggle:g["a"]})},"1fa6":function(t,e,s){t.exports=s.p+"media/rain-station.d41e5076.mp4"},"4ec9":function(t,e,s){"use strict";s("9e23")},"9e23":function(t,e,s){}}]);